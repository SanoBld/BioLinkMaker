<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BioLink Maker ‚Äî Cr√©ez votre page de liens</title>

  <!--
    Ce script inline DOIT rester dans <head> pour √©viter le flash
    de mauvais th√®me au chargement (avant que le DOM soit pr√™t).
  -->
  <script>
    (function () {
      const stored = localStorage.getItem('biolink_editor_mode') || 'auto';
      const isDark = stored === 'dark' || (stored === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches);
      document.documentElement.classList.toggle('dark', isDark);
    })();
  </script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { darkMode: 'class' }</script>

  <!-- Polices Google -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500&family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <!-- Feuille de styles -->
  <link rel="stylesheet" href="style.css" />
</head>

<body class="bg-slate-100 dark:bg-slate-950 text-slate-900 dark:text-slate-100 min-h-screen transition-colors duration-300">

<!-- Toast -->
<div id="toast"></div>


<!-- ================================================================
     INTERFACE CR√âATEUR
================================================================ -->
<div id="creator-app">

  <!-- NAVIGATION -->
  <nav class="border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl sticky top-0 z-50 transition-colors duration-300">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 h-14 flex items-center justify-between">

      <div class="flex items-center gap-2">
        <div class="w-7 h-7 rounded-lg bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center shadow-sm">
          <i class="fa-solid fa-link text-white text-xs"></i>
        </div>
        <span class="font-display font-bold text-sm tracking-tight">
          BioLink<span class="text-indigo-500">Maker</span>
        </span>
      </div>

      <div class="flex items-center gap-2">
        <span class="hidden sm:inline text-xs text-slate-400 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 px-2.5 py-1 rounded-full">
          Propuls√© par l'URL ¬∑ Z√©ro Data Serveur
        </span>

        <!-- Toggle mode √©diteur -->
        <div class="hidden sm:flex items-center gap-0.5 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-full p-0.5">
          <button type="button" onclick="setEditorMode('light')" data-editor-mode="light" title="√âditeur clair"
            class="editor-mode-btn px-2.5 py-1 rounded-full text-xs border border-transparent transition-all">
            <i class="fa-solid fa-sun text-amber-400 text-[10px]"></i>
          </button>
          <button type="button" onclick="setEditorMode('auto')" data-editor-mode="auto" title="Auto (syst√®me)"
            class="editor-mode-btn px-2.5 py-1 rounded-full text-xs border border-transparent transition-all">
            <i class="fa-solid fa-circle-half-stroke text-slate-400 text-[10px]"></i>
          </button>
          <button type="button" onclick="setEditorMode('dark')" data-editor-mode="dark" title="√âditeur sombre"
            class="editor-mode-btn px-2.5 py-1 rounded-full text-xs border border-transparent transition-all">
            <i class="fa-solid fa-moon text-indigo-400 text-[10px]"></i>
          </button>
        </div>

        <!-- Indicateur syst√®me -->
        <div id="sys-mode-badge" class="hidden sm:flex items-center gap-1.5 text-xs text-slate-400 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 px-2.5 py-1 rounded-full">
          <i id="sys-mode-icon" class="fa-solid fa-moon text-indigo-400 text-[11px]"></i>
          <span id="sys-mode-label">Syst√®me : Sombre</span>
        </div>

        <!-- S√©lecteur mode page visiteur (3 √©tats : Clair / Auto / Sombre) -->
        <div class="flex items-center gap-0.5 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-full p-0.5" title="Th√®me de la page visiteur">
          <button type="button" onclick="setVisitorMode('light')" data-vmode="light"
            class="visitor-mode-btn px-2.5 py-1 rounded-full text-xs border border-transparent transition-all" title="Page claire">
            <i class="fa-solid fa-sun text-amber-400 text-[10px]"></i>
          </button>
          <button type="button" onclick="setVisitorMode('auto')" data-vmode="auto"
            class="visitor-mode-btn px-2.5 py-1 rounded-full text-xs border border-transparent transition-all" title="Auto (syst√®me du visiteur)">
            <i class="fa-solid fa-circle-half-stroke text-slate-400 text-[10px]"></i>
          </button>
          <button type="button" onclick="setVisitorMode('dark')" data-vmode="dark"
            class="visitor-mode-btn px-2.5 py-1 rounded-full text-xs border border-transparent transition-all active" title="Page sombre">
            <i class="fa-solid fa-moon text-indigo-400 text-[10px]"></i>
          </button>
        </div>
        <span id="visitor-mode-label" class="hidden sm:inline text-xs text-slate-400">Page sombre</span>
      </div>
    </div>
  </nav>


  <!-- GRILLE PRINCIPALE -->
  <div class="max-w-5xl mx-auto px-4 sm:px-6 py-8 grid grid-cols-1 lg:grid-cols-5 gap-6 lg:gap-8">

    <!-- PANNEAU √âDITEUR (3 colonnes) -->
    <div class="lg:col-span-3 space-y-5">

      <div>
        <h1 class="font-display text-3xl font-extrabold leading-tight">
          Cr√©ez votre
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-violet-400">page de liens</span>
        </h1>
        <p class="text-slate-500 dark:text-slate-400 text-sm mt-1.5">
          Personnalisez, g√©n√©rez un lien unique et partagez-le en un clic.
        </p>
      </div>


      <!-- SECTION SAUVEGARDE -->
      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-5">
        <h2 class="font-display font-semibold text-xs uppercase tracking-widest text-slate-400 mb-4">
          <i class="fa-solid fa-floppy-disk mr-1.5 text-indigo-400"></i>Sauvegarde
        </h2>
        <div class="flex flex-wrap gap-2">
          <button type="button" onclick="exportJSON()"
            class="flex items-center gap-2 text-xs bg-indigo-600 hover:bg-indigo-500 text-white px-3.5 py-2 rounded-xl transition font-semibold">
            <i class="fa-solid fa-download"></i>Exporter ma config
          </button>
          <button type="button" onclick="document.getElementById('import-file-input').click()"
            class="flex items-center gap-2 text-xs bg-slate-700 hover:bg-slate-600 text-slate-200 px-3.5 py-2 rounded-xl transition font-semibold">
            <i class="fa-solid fa-upload"></i>Importer un fichier
          </button>
          <input type="file" id="import-file-input" accept=".json" onchange="importJSON(event)" />
          <div class="ml-auto flex items-center gap-1.5 text-xs text-slate-400">
            <i class="fa-solid fa-circle-dot text-emerald-400 text-[9px]"></i>
            Auto-sauvegarde active
          </div>
        </div>
      </div>


      <!-- SECTION IDENTIT√â -->
      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 space-y-5">
        <h2 class="font-display font-semibold text-sm uppercase tracking-widest text-slate-400">Identit√©</h2>

        <div class="space-y-3">
          <div>
            <label class="block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1.5">Nom / Pseudo</label>
            <input id="inp-name" type="text" placeholder="ex : Alex Martin üöÄ" maxlength="60"
              class="w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-2.5 text-sm placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition" />
          </div>
          <div>
            <label class="block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1.5">Bio courte</label>
            <textarea id="inp-bio" placeholder="Designer ‚Ä¢ Dev ‚Ä¢ Cr√©ateur de contenu ‚ú®" rows="2" maxlength="160"
              class="w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-2.5 text-sm placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition resize-none"></textarea>
          </div>
        </div>

        <div class="border-t border-slate-100 dark:border-slate-800"></div>

        <div class="space-y-3">
          <label class="block text-xs font-medium text-slate-500 dark:text-slate-400">Style d'avatar</label>
          <div class="grid grid-cols-3 gap-2">
            <button type="button" data-av="lt" onclick="selectAvatarType(this)"
              class="av-type-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 hover:text-indigo-500 transition text-xs">
              <div class="w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center text-white text-sm font-bold">A</div>
              Initiale
            </button>
            <button type="button" data-av="em" onclick="selectAvatarType(this)"
              class="av-type-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 hover:text-indigo-500 transition text-xs">
              <div class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-2xl">üòä</div>
              Emoji
            </button>
            <button type="button" data-av="im" onclick="selectAvatarType(this)"
              class="av-type-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 hover:text-indigo-500 transition text-xs">
              <div class="w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center">
                <i class="fa-solid fa-image text-slate-400 text-lg"></i>
              </div>
              Image URL
            </button>
          </div>

          <div id="avatar-emoji-wrap" class="hidden">
            <label class="block text-xs text-slate-400 mb-1.5">Choisissez un emoji</label>
            <input id="inp-avatar-emoji" type="text" placeholder="üòä" maxlength="4"
              class="w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-3xl text-center placeholder-slate-400 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition"
              oninput="updatePreview()" />
          </div>
          <div id="avatar-image-wrap" class="hidden">
            <label class="block text-xs text-slate-400 mb-1.5">URL de votre photo</label>
            <input id="inp-avatar-img" type="url" placeholder="https://example.com/photo.jpg"
              class="w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-2.5 text-sm placeholder-slate-400 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition"
              oninput="updatePreview()" />
          </div>
        </div>
      </div>


      <!-- SECTION TH√àME -->
      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 space-y-5">
        <h2 class="font-display font-semibold text-sm uppercase tracking-widest text-slate-400">Th√®me des boutons</h2>

        <div class="grid grid-cols-3 gap-2.5">
          <button type="button" data-theme="blue" onclick="selectTheme(this)"
            class="theme-opt group flex flex-col items-center gap-1.5 p-3 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
            <div class="w-full h-8 rounded-lg bg-gradient-to-r from-blue-500 to-blue-700"></div>
            <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition">Bleu classique</span>
          </button>
          <button type="button" data-theme="insta" onclick="selectTheme(this)"
            class="theme-opt group flex flex-col items-center gap-1.5 p-3 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
            <div class="w-full h-8 rounded-lg bg-gradient-to-r from-amber-400 via-pink-500 to-violet-500"></div>
            <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition">D√©grad√© Insta</span>
          </button>
          <button type="button" data-theme="black" onclick="selectTheme(this)"
            class="theme-opt group flex flex-col items-center gap-1.5 p-3 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
            <div class="w-full h-8 rounded-lg bg-gradient-to-r from-zinc-900 to-zinc-700 border border-zinc-600"></div>
            <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition">Noir minimaliste</span>
          </button>
          <button type="button" data-theme="green" onclick="selectTheme(this)"
            class="theme-opt group flex flex-col items-center gap-1.5 p-3 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
            <div class="w-full h-8 rounded-lg bg-gradient-to-r from-emerald-500 to-teal-600"></div>
            <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition">Vert nature</span>
          </button>
          <button type="button" data-theme="rose" onclick="selectTheme(this)"
            class="theme-opt group flex flex-col items-center gap-1.5 p-3 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
            <div class="w-full h-8 rounded-lg bg-gradient-to-r from-rose-500 to-pink-600"></div>
            <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition">Rose vibrant</span>
          </button>
          <button type="button" data-theme="glass" onclick="selectTheme(this)"
            class="theme-opt group flex flex-col items-center gap-1.5 p-3 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
            <div class="w-full h-8 rounded-lg border border-slate-300 dark:border-white/20 bg-white/10 dark:bg-white/10 backdrop-blur-sm"></div>
            <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-200 transition">Verre givr√©</span>
          </button>
        </div>

        <!-- Fond anim√© -->
        <div class="border-t border-slate-100 dark:border-slate-800 pt-4 space-y-2.5">
          <label class="block text-xs font-medium text-slate-500 dark:text-slate-400">Fond anim√© de la page visiteur</label>
          <div class="grid grid-cols-4 gap-2">
            <button type="button" data-bg="none" onclick="selectAnimBg(this)"
              class="anim-bg-opt flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
              <div class="w-full h-6 rounded-lg bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-400 text-xs">‚Äî</div>
              <span class="text-[10px] text-slate-400">Th√®me seul</span>
            </button>
            <button type="button" data-bg="mesh-purple" onclick="selectAnimBg(this)"
              class="anim-bg-opt flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
              <div class="w-full h-6 rounded-lg vbg-mesh-purple"></div>
              <span class="text-[10px] text-slate-400">N√©buleuse</span>
            </button>
            <button type="button" data-bg="mesh-sunset" onclick="selectAnimBg(this)"
              class="anim-bg-opt flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
              <div class="w-full h-6 rounded-lg vbg-mesh-sunset"></div>
              <span class="text-[10px] text-slate-400">Coucher</span>
            </button>
            <button type="button" data-bg="mesh-forest" onclick="selectAnimBg(this)"
              class="anim-bg-opt flex flex-col items-center gap-1.5 p-2.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition">
              <div class="w-full h-6 rounded-lg vbg-mesh-forest"></div>
              <span class="text-[10px] text-slate-400">For√™t</span>
            </button>
          </div>
        </div>

        <!-- Couleur personnalis√©e -->
        <div class="border-t border-slate-100 dark:border-slate-800 pt-4 space-y-2">
          <label class="block text-xs font-medium text-slate-500 dark:text-slate-400">
            Couleur personnalis√©e <span class="font-normal text-slate-400">(surpasse le th√®me)</span>
          </label>
          <div class="flex items-center gap-3">
            <input type="color" id="inp-custom-color" value="#6366f1" title="Choisir une couleur" oninput="onCustomColorChange()" />
            <div class="flex-1">
              <div id="custom-color-preview" class="h-8 rounded-xl transition-all duration-300" style="background:#6366f1"></div>
            </div>
            <button type="button" onclick="clearCustomColor()" id="custom-color-clear"
              class="hidden text-xs text-slate-400 hover:text-rose-400 transition px-2 py-1 rounded-lg hover:bg-rose-50 dark:hover:bg-rose-900/20">
              <i class="fa-solid fa-xmark mr-1"></i>D√©sactiver
            </button>
          </div>
        </div>
      </div>


      <!-- SECTION STYLE & TYPO -->
      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 space-y-5">
        <h2 class="font-display font-semibold text-sm uppercase tracking-widest text-slate-400">Style &amp; Typographie</h2>

        <div class="space-y-2.5">
          <label class="block text-xs font-medium text-slate-500 dark:text-slate-400">Arrondi des boutons</label>
          <div class="grid grid-cols-3 gap-2">
            <button type="button" data-radius="rounded-none" onclick="selectRadius(this)"
              class="radius-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 transition text-xs">
              <div class="w-12 h-5 bg-indigo-500/20 border border-indigo-400/40 rounded-none"></div>Carr√©
            </button>
            <button type="button" data-radius="rounded-xl" onclick="selectRadius(this)"
              class="radius-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 transition text-xs">
              <div class="w-12 h-5 bg-indigo-500/20 border border-indigo-400/40 rounded-xl"></div>Arrondi
            </button>
            <button type="button" data-radius="rounded-full" onclick="selectRadius(this)"
              class="radius-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 transition text-xs">
              <div class="w-12 h-5 bg-indigo-500/20 border border-indigo-400/40 rounded-full"></div>Pilule
            </button>
          </div>
        </div>

        <div class="space-y-2.5">
          <label class="block text-xs font-medium text-slate-500 dark:text-slate-400">Style des boutons</label>
          <div class="grid grid-cols-3 gap-2">
            <button type="button" data-bstyle="solid" onclick="selectBorderStyle(this)"
              class="bstyle-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 transition text-xs">
              <div class="w-12 h-5 bg-indigo-500 rounded-lg"></div>Plein
            </button>
            <button type="button" data-bstyle="outline" onclick="selectBorderStyle(this)"
              class="bstyle-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 transition text-xs">
              <div class="w-12 h-5 bg-transparent border-2 border-indigo-500 rounded-lg"></div>Contour
            </button>
            <button type="button" data-bstyle="shadow" onclick="selectBorderStyle(this)"
              class="bstyle-opt flex flex-col items-center gap-2 py-3 px-2 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 text-slate-400 transition text-xs">
              <div class="w-12 h-5 bg-indigo-500 rounded-lg shadow-lg shadow-indigo-500/60"></div>Ombre
            </button>
          </div>
        </div>

        <div class="border-t border-slate-100 dark:border-slate-800"></div>

        <div class="space-y-2.5">
          <label class="block text-xs font-medium text-slate-500 dark:text-slate-400">Typographie</label>
          <div class="grid grid-cols-2 gap-2">
            <button type="button" data-font="syne" onclick="selectFont(this)"
              class="font-opt flex flex-col items-start gap-1 p-3.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition group">
              <span class="text-lg font-bold leading-none" style="font-family:'Syne',sans-serif">Aa</span>
              <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition">Moderne ¬∑ Syne</span>
            </button>
            <button type="button" data-font="inter" onclick="selectFont(this)"
              class="font-opt flex flex-col items-start gap-1 p-3.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition group">
              <span class="text-lg font-bold leading-none" style="font-family:'Inter',sans-serif">Aa</span>
              <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition">Propre ¬∑ Inter</span>
            </button>
            <button type="button" data-font="playfair" onclick="selectFont(this)"
              class="font-opt flex flex-col items-start gap-1 p-3.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition group">
              <span class="text-lg font-bold leading-none" style="font-family:'Playfair Display',serif">Aa</span>
              <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition">√âl√©gant ¬∑ Playfair</span>
            </button>
            <button type="button" data-font="mono" onclick="selectFont(this)"
              class="font-opt flex flex-col items-start gap-1 p-3.5 rounded-xl border-2 border-slate-200 dark:border-slate-700 hover:border-indigo-500 transition group">
              <span class="text-lg font-bold leading-none" style="font-family:'JetBrains Mono',monospace">Aa</span>
              <span class="text-xs text-slate-400 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition">Technique ¬∑ Mono</span>
            </button>
          </div>
        </div>
      </div>


      <!-- SECTION LIENS -->
      <div class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-6 space-y-4">
        <div class="flex items-center justify-between flex-wrap gap-2">
          <h2 class="font-display font-semibold text-sm uppercase tracking-widest text-slate-400">Liens</h2>
          <div class="flex items-center gap-2">
            <span id="link-count" class="text-xs bg-indigo-500/15 text-indigo-500 dark:text-indigo-300 px-2 py-0.5 rounded-full font-medium">0 lien</span>
            <!-- Toggle Afficher les ic√¥nes -->
            <button type="button" id="btn-toggle-icons" onclick="toggleShowIcons()"
              title="Afficher / masquer les ic√¥nes sur les boutons"
              class="flex items-center gap-1.5 text-xs border border-slate-200 dark:border-slate-700 hover:border-indigo-400 px-2.5 py-1 rounded-full transition-all text-slate-400 hover:text-indigo-400">
              <i class="fa-solid fa-icons text-[10px]"></i>
              <span id="icons-toggle-label">Ic√¥nes : On</span>
            </button>
          </div>
        </div>

        <div id="links-container" class="space-y-3"></div>

        <!-- Boutons d'ajout de blocs -->
        <div class="grid grid-cols-2 gap-2">
          <button type="button" onclick="addLink()"
            class="flex items-center justify-center gap-2 py-2.5 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl text-sm text-slate-400 hover:border-indigo-400 hover:text-indigo-400 transition group">
            <i class="fa-solid fa-plus text-xs group-hover:rotate-90 transition-transform duration-200"></i>
            Ajouter un lien
          </button>
          <button type="button" onclick="addAddress()"
            title="Ajouter une adresse Google Maps"
            class="flex items-center justify-center gap-2 py-2.5 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl text-sm text-slate-400 hover:border-emerald-400 hover:text-emerald-400 transition">
            <i class="fa-solid fa-location-dot text-xs"></i>
            Adresse
          </button>
          <button type="button" onclick="addParagraph()"
            title="Ajouter un bloc de texte libre"
            class="flex items-center justify-center gap-2 py-2.5 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl text-sm text-slate-400 hover:border-amber-400 hover:text-amber-400 transition">
            <i class="fa-solid fa-align-left text-xs"></i>
            Paragraphe
          </button>
          <button type="button" onclick="addSeparator()"
            title="Ajouter un titre de section"
            class="flex items-center justify-center gap-2 py-2.5 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl text-sm text-slate-400 hover:border-violet-400 hover:text-violet-400 transition">
            <i class="fa-solid fa-heading text-xs"></i>
            <span class="hidden sm:inline">Titre</span>
          </button>
        </div>
      </div>


      <!-- BOUTON G√âN√âRER -->
      <button type="button" id="btn-generate" onclick="generateURL()"
        class="w-full relative overflow-hidden font-display font-bold text-white py-4 rounded-2xl text-base tracking-wide transition-all duration-300 hover:scale-[1.01] hover:shadow-2xl hover:shadow-indigo-500/30 active:scale-[0.99]"
        style="background:linear-gradient(135deg,#6366f1,#8b5cf6,#06b6d4)">
        <span class="relative z-10 flex items-center justify-center gap-2.5">
          <i class="fa-solid fa-wand-magic-sparkles"></i>
          G√©n√©rer mon lien de partage
        </span>
        <span class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"></span>
      </button>


      <!-- ZONE R√âSULTAT (URL) -->
      <div id="url-output" class="hidden glow-border rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 p-6 space-y-4">

        <div class="flex items-center gap-2 text-emerald-500 dark:text-emerald-400">
          <i class="fa-solid fa-circle-check text-sm"></i>
          <span class="text-sm font-semibold">Lien g√©n√©r√© avec succ√®s !</span>
        </div>

        <p class="text-xs text-slate-400">
          Cliquez dans le champ pour tout s√©lectionner, puis
          <kbd class="bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-[10px] font-mono">Ctrl+C</kbd> pour copier.
        </p>

        <textarea id="url-display"
          placeholder="Votre lien appara√Ætra ici‚Ä¶"
          spellcheck="false"
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          onclick="this.select(); this.setSelectionRange(0, this.value.length);"></textarea>

        <div class="flex gap-2">
          <button type="button" id="copy-btn" onclick="copyURL()"
            class="flex-1 flex items-center justify-center gap-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3.5 rounded-2xl shadow-lg active:scale-95 transition-all">
            <i id="copy-icon" class="fa-regular fa-copy text-sm"></i>
            <span id="copy-label">Copier le lien</span>
          </button>
          <a id="preview-btn" href="#" target="_blank" rel="noopener noreferrer"
            class="flex items-center justify-center bg-slate-100 dark:bg-slate-800 px-5 rounded-2xl border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition"
            title="Ouvrir la page visiteur">
            <i class="fa-solid fa-arrow-up-right-from-square"></i>
          </a>
        </div>

        <div class="flex gap-2 flex-wrap">
          <button type="button" onclick="showQRCode()"
            class="flex items-center gap-2 text-xs bg-violet-600 hover:bg-violet-500 text-white px-3.5 py-2 rounded-xl transition font-semibold">
            <i class="fa-solid fa-qrcode"></i> QR Code
          </button>
          <button type="button" onclick="exportHTML()"
            class="flex items-center gap-2 text-xs bg-teal-600 hover:bg-teal-500 text-white px-3.5 py-2 rounded-xl transition font-semibold">
            <i class="fa-solid fa-file-code"></i> Exporter en HTML
          </button>
        </div>

        <div id="qr-panel" class="hidden">
          <div class="qr-inner">
            <p class="text-xs text-slate-500 text-center">Scannez pour ouvrir votre page</p>
            <div id="qr-canvas-wrap"></div>
            <button type="button" onclick="downloadQR()"
              class="flex items-center gap-1.5 text-xs text-slate-400 hover:text-indigo-500 transition">
              <i class="fa-solid fa-download text-[10px]"></i> T√©l√©charger le QR Code
            </button>
          </div>
        </div>

      </div>
    </div><!-- /√©diteur -->


    <!-- PANNEAU APER√áU (2 colonnes) -->
    <div class="lg:col-span-2 flex flex-col">
      <div class="lg:sticky lg:top-24">

        <div class="flex items-center justify-between mb-3">
          <p class="text-xs text-slate-400 uppercase tracking-widest font-medium">Aper√ßu en direct</p>
          <div class="flex items-center gap-0.5 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-full p-0.5">
            <button type="button" onclick="setPreviewVP('mobile')" data-vp="mobile"
              class="preview-vp-btn active px-2.5 py-1 rounded-full text-xs border border-transparent transition-all" title="Vue mobile">
              <i class="fa-solid fa-mobile-screen-button text-[10px]"></i>
            </button>
            <button type="button" onclick="setPreviewVP('desktop')" data-vp="desktop"
              class="preview-vp-btn px-2.5 py-1 rounded-full text-xs border border-transparent transition-all" title="Vue desktop">
              <i class="fa-solid fa-display text-[10px]"></i>
            </button>
          </div>
        </div>

        <div id="preview-frame" class="mx-auto" style="width:240px;max-width:240px;">
          <div class="bg-slate-300 dark:bg-slate-800 border-2 border-slate-400 dark:border-slate-700 rounded-[2rem] overflow-hidden shadow-2xl shadow-black/40">
            <div class="bg-slate-300 dark:bg-slate-800 flex justify-center pt-2 pb-1">
              <div class="w-16 h-1.5 bg-slate-400 dark:bg-slate-700 rounded-full"></div>
            </div>
            <div id="preview-screen" class="bg-slate-950 min-h-[440px] p-4 flex flex-col items-center gap-3 transition-all duration-500 overflow-hidden">
              <div class="text-center mt-3 space-y-1.5 w-full">
                <div id="prev-avatar"
                  class="w-14 h-14 rounded-full bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center text-white text-xl font-bold mx-auto overflow-hidden">?</div>
                <p id="prev-name" class="font-bold text-white text-sm mt-1">Votre Nom</p>
                <p id="prev-bio" class="text-slate-400 text-[10px] leading-relaxed px-2">Votre bio‚Ä¶</p>
              </div>
              <div id="prev-links" class="w-full space-y-1.5 mt-1"></div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div><!-- /#creator-app -->


<!-- ================================================================
     PAGE VISITEUR
================================================================ -->
<div id="visitor-app" class="hidden min-h-screen flex items-center justify-center py-16 px-4 transition-all duration-500">
  <div class="w-full max-w-sm mx-auto">
    <div class="text-center mb-8 space-y-3">
      <div id="v-avatar"
        class="w-20 h-20 rounded-full bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center text-white text-3xl font-bold mx-auto avatar-pulse shadow-xl overflow-hidden"></div>
      <div>
        <h1 id="v-name" class="font-display font-extrabold text-2xl text-white"></h1>
        <p id="v-bio" class="text-slate-400 text-sm mt-1.5 leading-relaxed max-w-xs mx-auto"></p>
      </div>
    </div>
    <div id="v-links" class="space-y-3"></div>
    <p class="visitor-watermark text-center text-slate-600 text-xs mt-12">
  Cr√©√© avec <a href="https://sanobld.github.io/BioLinkMaker/" target="_blank" class="text-indigo-400 font-medium hover:underline">BioLink Maker</a>
</p>
  </div>
</div>


<!-- Librairies (charg√©es avant script.js) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<!-- Script principal -->
<script src="script.js"></script>

</body>
</html>
